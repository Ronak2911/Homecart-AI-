{% extends 'base/base.html' %}
{% block title %}Edit Property{% endblock %}

{% block body %}

<div class="container-fluid">
  <h3 class="mb-4">Edit Property</h3>

  <form method="POST" class="card shadow-sm p-4">

    <!-- BASIC INFO -->
    <div class="row g-3 mb-3">
      <div class="col-md-6">
        <label class="form-label">Title</label>
        <input name="title" class="form-control"
               value="{{ property.get('title','') }}">
      </div>

      <div class="col-md-3">
        <label class="form-label">Type</label>
        <select name="propertytype" class="form-select">
          {% for t in ["Flat","Villa","Plot","Bungalow"] %}
          <option value="{{ t }}"
            {% if property.get("propertytype") == t %}selected{% endif %}>
            {{ t }}
          </option>
          {% endfor %}
        </select>
      </div>

      <div class="col-md-3">
        <label class="form-label">Status</label>
        <select name="status" class="form-select">
          {% for s in ["Available","Under Construction","Sold"] %}
          <option value="{{ s }}"
            {% if property.get("status") == s %}selected{% endif %}>
            {{ s }}
          </option>
          {% endfor %}
        </select>
      </div>
    </div>

    <!-- DETAILS -->
    <div class="row g-3 mb-3">
      <div class="col-md-3">
        <label class="form-label">BHK</label>
        <input name="bhk" class="form-control"
               value="{{ property.get('bhk','') }}">
      </div>

      <div class="col-md-3">
        <label class="form-label">Size (sqft)</label>
        <input name="sizesqft" class="form-control"
               value="{{ property.get('sizesqft','') }}">
      </div>

      <div class="col-md-3">
        <label class="form-label">Price</label>
        <input name="price" class="form-control"
               value="{{ property.get('price','') }}">
      </div>

      <div class="col-md-3">
        <label class="form-label">Budget Range</label>
        <input name="budgetrange" class="form-control"
               value="{{ property.get('budgetrange','') }}">
      </div>
    </div>

    <!-- LOCATION -->
    <h6 class="mt-3">Location</h6>
    <div class="row g-3 mb-3">
      <div class="col-md-4">
        <input name="city" class="form-control"
               placeholder="City"
               value="{{ property.get('location',{}).get('city','') }}">
      </div>

      <div class="col-md-4">
        <input name="area" class="form-control"
               placeholder="Area"
               value="{{ property.get('location',{}).get('area','') }}">
      </div>

      <div class="col-md-4">
        <input name="pincode" class="form-control"
               placeholder="Pincode"
               value="{{ property.get('location',{}).get('pincode','') }}">
      </div>
    </div>

    <div class="row g-3 mb-3">
      <div class="col-md-6">
        <textarea name="address" class="form-control"
                  placeholder="Address">{{ property.get('location',{}).get('address','') }}</textarea>
      </div>

      <div class="col-md-6">
        <textarea name="maplink" class="form-control"
                  placeholder="Map link">{{ property.get('location',{}).get('maplink','') }}</textarea>
      </div>
    </div>

    <!-- OTHER -->
    <div class="mb-3">
      <label class="form-label">Amenities</label>
      <input name="amenities" class="form-control"
             value="{{ property.get('amenities','') }}">
    </div>

    <div class="mb-3">
      <label class="form-label">Description</label>
      <textarea name="description" class="form-control"
                rows="3">{{ property.get('description','') }}</textarea>
    </div>

    <!-- ACTIONS -->
    <div class="mt-4">
      <button class="btn btn-primary">Update Property</button>
      <a href="/properties" class="btn btn-secondary">Cancel</a>
    </div>

  </form>
</div>

{% endblock %}

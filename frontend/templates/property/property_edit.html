{% extends 'base/base.html' %}
{% block title %}Edit Property{% endblock %}

{% block body %}

<div class="container-fluid">

  <h3 class="mb-4 fw-bold">Edit Property</h3>

  <form method="POST" enctype="multipart/form-data" class="card shadow-sm p-4">

    <!-- BASIC INFO -->
    <div class="row g-3 mb-3">

      <div class="col-md-6">

        <label class="form-label">Property Name</label>

        <input name="name" class="form-control" value="{{ property.get('name','') }}" required>

      </div>


      <div class="col-md-3">

        <label class="form-label">Type</label>

        <select name="type" class="form-select">

          {% for t in ["Flat","Villa","Plot","Commercial","Bungalow"] %}

          <option value="{{ t }}" {% if property.get("type")==t %}selected{% endif %}>
            {{ t }}
          </option>

          {% endfor %}

        </select>

      </div>


      <div class="col-md-3">

        <label class="form-label">Status</label>

        <select name="status" class="form-select">

          {% for s in ["Available","Under Construction","Sold"] %}

          <option value="{{ s }}" {% if property.get("status")==s %}selected{% endif %}>
            {{ s }}
          </option>

          {% endfor %}

        </select>

      </div>

    </div>



    <!-- DETAILS -->
    <div class="row g-3 mb-3">

      <div class="col-md-3">

        <label class="form-label">BHK</label>

        <input name="BHK" class="form-control" value="{{ property.get('BHK','') }}">

      </div>


      <div class="col-md-3">

        <label class="form-label">Size (sqft)</label>

        <input name="sqft" class="form-control" value="{{ property.get('sqft','') }}">

      </div>


      <div class="col-md-3">

        <label class="form-label">Price</label>

        <input name="price" type="number" class="form-control" value="{{ property.get('price','') }}">

      </div>


      <div class="col-md-3">

        <label class="form-label">Pincode</label>

        <input name="pincode" class="form-control" value="{{ property.get('pincode','') }}">

      </div>

    </div>



    <!-- LOCATION -->
    <h6 class="mt-3 fw-bold">Location</h6>

    <div class="row g-3 mb-3">

      <div class="col-md-6">

        <label class="form-label">City</label>

        <input name="city" class="form-control" value="{{ property.get('city','') }}">

      </div>


      <div class="col-md-6">

        <label class="form-label">Area</label>

        <input name="area" class="form-control" value="{{ property.get('area','') }}">

      </div>

    </div>


    <div class="row g-3 mb-3">

      <div class="col-md-6">

        <label class="form-label">Address</label>

        <textarea name="address" class="form-control" rows="2">{{ property.get('address','') }}</textarea>

      </div>


      <div class="col-md-6">

        <label class="form-label">Map Link</label>

        <textarea name="maplink" class="form-control" rows="2">{{ property.get('maplink','') }}</textarea>

      </div>

    </div>



    <!-- IMAGE -->
    <div class="mb-3">

      <label class="form-label fw-bold">Property Image</label>

      <input type="file" name="image" class="form-control">

      {% if property.get('media') %}

      <div class="mt-2">

        <img src="/static/uploads/{{ property.get('media') }}" width="120" class="rounded border">

      </div>

      {% endif %}

    </div>



    <!-- AMENITIES -->
    <div class="mb-3">

      <label class="form-label">Amenities (comma separated)</label>

      <input name="amenities" class="form-control" value="{{ property.get('amenities','') }}">

    </div>



    <!-- DESCRIPTION -->
    <div class="mb-3">

      <label class="form-label">Description</label>

      <textarea name="description" class="form-control" rows="3">{{ property.get('description','') }}</textarea>

    </div>



    <!-- ACTION -->
    <div class="mt-4">

      <button class="btn btn-primary">
        Update Property
      </button>

      <a href="/properties" class="btn btn-secondary">
        Cancel
      </a>

    </div>


  </form>

</div>

{% endblock %}